*,
*::before,
*::after,
html {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  list-style: none;
  /* appearance: none; */
  text-decoration: none;
  scroll-behavior: smooth;
  perspective: 1000px;
}

/*////////////////// controls for pages */ 
body:has(.start){
	overflow: hidden;
	.table{
		inset-inline:4%;
		inset-block: -5%;
		/* outline: solid palegoldenrod; */
	}

	.table:hover .mainGrid{
		translate: none;
		translate: 0 5%;
	 }

	.mainGrid{
		transform: rotateY(0deg) rotateX(50deg) scale(.8);

	}

	.mainGrid > div:not(:nth-of-type(5)) {
		opacity: .5;
		pointer-events: none;
	}

	.mid_2 {
		
		.item{
			display: none;
		}
		.start-btn{
			outline: none;
			mix-blend-mode: difference;
			a{
				color: white;
				mix-blend-mode: difference;
			}
		}

		&:hover .start-btn{
			transform: scale(2.5) rotateX(-5deg);
			width: 25cqw;
			height: auto;
			a{
				box-shadow: 0 0 10px 10px rgb(191, 194, 218);
				/* border-radius: 40px; */
				
			}
		}
	}

	.menu{
		pointer-events: none;
		transform: rotate(90deg) !important;
		inset-block: unset;
		right:unset;
		top: -42%;
		left: 32%;
		z-index: 100 !important;

	}

	.menu .aside_1{
		transform: rotatey(-180deg)  scale(.98);

	}
	
	&:has(.table:hover) .aside_1{
		transform: rotatey(-180deg);
		opacity: .8;
	}

	.menu .aside_2{
		ul,h2{
			display: none;
		}
	}

	.menu .aside_2::after{
		content: 'The book of potions';
		top: 48%;
		/* background-color: #fff; */
		display: flex;
		justify-content: center ;
		/* height: fit-content; */
		width: 100%;
		transform: rotate(-90deg) scale(3.5);
		font-size: 2.5rem;
	}

}


body:has(.pageOne){ 
	
	.mainGrid > div:nth-of-type(-n + 2):not(:nth-of-type(6)):not(:nth-of-type(5)) {
		opacity: .1;
		pointer-events: none;
	}
}
body:has(.pageTwo) .mainGrid > div:nth-of-type(-n + 2):not(:nth-of-type(6)):not(:nth-of-type(5)) {
	opacity: .1;
	pointer-events: none;
	
}

body:has(.pageThree) .mainGrid > div:nth-of-type(-n + 1):nth-of-type(8):not(:nth-of-type(6)):not(:nth-of-type(5)) {
	opacity: .1;
	pointer-events: none;
	
}

body:has(.pageFour) .mainGrid > div:nth-of-type(-n + 2):not(:nth-of-type(3)):not(:nth-of-type(5)) {
	opacity: .1;
	pointer-events: none;
	
}





body{
	scrollbar-gutter: stable;
	/* position: relative; */
	/* width: 100%;
	height: 100%; */
	transform-style:preserve-3d;
	-webkit-transform-style:preserve-3d;
}

header{
	display: flex;
	position: absolute;
	top: 0;
	width: 100%;
	background-color: rgba(240, 255, 255, 0.43);
	z-index: 1;
}

main{
	/* display: flex; */
	position:relative;
	background-color:  palegoldenrod;
	height: 100dvh;
	width: 100dvw;
	background-image: url("/assests/download.png");
	background-position: center ;
	background-size: cover;
}



/*//////////////// tabel of mixing */

.table{
	position: absolute;
	top: 8%;
	right:50% ;
	left: -16%;
	bottom: 8%;
	z-index: 0;
	/* background-color: peachpuff; */
	/* background-color:rgba(0, 0, 0, 0.874); */
	/* transform: scale3d(1 ,1 , 1); */
	/* perspective: 1000px; */

	padding:1rem;
	color:white;
	transition:1s;
	gap:1rem;
	

	display:grid;
	grid-template-columns:
  
	  [side-start]
	  1fr
	  [mid-start]
	  1fr
	  [mid-end]
	  1fr
	  [side-end];
  
	 grid-template-rows:
  
	  [side-start]
	  1fr
	  [mid-start]
	  1fr
	  [mid-end]
	  1fr
	  [side-end];
	

	@starting-style {
		inset-inline:4%;
		inset-block: 0;
		color:white;

	}

	&:hover,&:focus-within{
		left: 0;
		right: 40%;
		perspective: 1800px;
		z-index: 3;
		
	}

	&:hover .mainGrid{
		translate: 4% 0;
	 }

    &:has(:hover) section.menu{
	  transform: rotateY(-25deg) rotateX(65deg)           
	  scale(.6);
	}

}

.table:has(.top:hover,:focus,:focus-visible){
      
	&:has(.top_1:hover,:focus){
        background-color:#21C979;
		grid-template-columns:2.5fr 1fr 1fr;
		grid-template-rows:2.5fr 1fr 1fr;
	  }
	&:has(.top_2:hover,:focus){
        background-color:blue;
		grid-template-columns: 1fr 2.5fr 1fr;
		 grid-template-rows:2.5fr 1fr 1fr;
	  }
	&:has(.top_3:hover,:focus){
		background-color:#EDA48D;
		grid-template-columns: 1fr  1fr 2.5fr;
		grid-template-rows:2.5fr 1fr 1fr;
	  }
	 
	}

.table:has(.mid:hover,:focus,:focus-visible){
		&:has(.mid_1:hover,:focus){
          background-color:green;
		  grid-template-columns:2.5fr 1fr 1fr;
		  grid-template-rows: 1fr 2.5fr 1fr;
		}
	  &:has(.mid_2:hover,:focus){
		  background-color:blue;
		  grid-template-columns: 1fr 5fr 1fr;
		  grid-template-rows: 1fr 5fr 1fr;
				
		}
	  &:has(.mid_3:hover,:focus){
          background-color:yellow;
		  grid-template-columns: 1fr  1fr 2.5fr;
		  grid-template-rows: 1fr 2.5fr 1fr;
		}
	  }

.table:has(.down:hover,:focus,:focus-visible){
	&:has(.down_1:hover,:focus){
	 background-color:green;
	 grid-template-columns:2.5fr 1fr 1fr;
	 grid-template-rows: 1fr  1fr 2.5fr;
   }
 &:has(.down_2:hover,:focus){
	 background-color:blue;
	 grid-template-columns: 1fr 2.5fr 1fr;
	  grid-template-rows: 1fr  1fr 8fr;
   }
 &:has(.down_3:hover,:focus){
	 
	 grid-template-columns: 1fr  1fr 2.5fr;
	  grid-template-rows: 1fr  1fr 2.5fr;
   }
 }

 .mid_2{
	position: relative;
	
	/* background-image: url(/public/assests/b8d6e6308676378220fb181bb48a15ae.gif); */
	background-image: url("/assests/bed2591f723244f07bc4bf382f97103c.gif");
	background-size: cover;
	background-repeat: no-repeat;
	background-position: center;
	
	border-radius: 40%;

	
 }

 

.mainGrid{
	/* position: absolute; */
	/* inset: 6dvh; */
	grid-column:1/-1;
	grid-row:1/-1;
	display:grid;
	grid-template-columns:subgrid;
	grid-template-rows:subgrid;
	z-index: 0;
	transition: 1s ease-in-out .1s;
	border-radius: 100px;

	transform: rotateY(20deg) rotateX(30deg) scale(.8);

	@starting-style{
		transform: rotateY(0deg) rotateX(10deg) scale(1);
		transform: rotateY(0deg) rotateX(50deg) scale(1);
	}
	
	
  
	&:hover,&:focus-within{
	   transform: rotateY(5deg) rotateX(30deg) scale(1);
	   transform: rotateY(0deg) rotateX(0deg) scale(1);
	   z-index: 3;

	   > div:nth-of-type(n) label img{
		opacity: 1;
		}
	}

	> img{
		position: absolute;
		inset: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		object-position: center;
		/* z-index: -1; */
		pointer-events: none;
		/* outline: solid red; */
		mix-blend-mode:overlay;
		opacity: .2;
		scale: 1.01;
		/* animation: slow-rotate 30s infinite; */
		

	}
  }

.mainGrid div:nth-of-type(n){
	  display:grid;
	  place-items:center;
	  font-size:3rem;
	  outline:solid lightslategrey;
	  
	  /* position:absolute;
	  inset: 20dvw; */
	/*   box-shadow: 0px 0px 50px 5px black; */
	  
	/*   width:100%; */
	/*   grid-column: mid; */
	  
	  
}

.mainGrid fieldset{
	filter: blur(5px);
	transition: .5s ease-out;
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	width: 100%;
	height: 100%;
}

.mainGrid:is(:hover, :focus-within) fieldset{
	filter: blur(0px);
}

.mainGrid div:nth-of-type(n) label{
	
	display: flex;
	flex: 1;
	flex-wrap: wrap;
	place-content: center;
	outline: solid inherit;

}

.mainGrid div:nth-of-type(n) label img{
	aspect-ratio: 1;
	width: 4rem;
	opacity: .1;
}

/* .mainGrid > div:nth-of-type(-n + 8):not(:nth-of-type(6)):not(:nth-of-type(5)) {
	opacity: .1;
	pointer-events: none;
	
} */

/* ///////////////cauldron */

/* //////////////////////// - Sidebar */

.menu{
	/* outline: solid rgb(94, 255, 0); */
	position: absolute;
	width: min-content;
	height: 100%;
	inset-block: 2dvh;
	right: 5%;
	display: grid;
	grid-auto-flow: column;
	gap: 2%;
	scale: .9;
	transition: .5s ;
	transition-property: transform;
	/* transform-style:preserve-3d; */

	@starting-style{
		pointer-events: none;
		transform: rotate(90deg);
		inset-block: unset;
		right:unset;
		top: -42%;
		left: 32%;
		z-index: 100;
	}

}

aside{
	background-color: rgb(116, 181, 119);
	/* outline: solid red; */
	transition: .9s cubic-bezier(0.6, -0.28, 0.35, 0.57);
	transition-property: opacity,transform;
	transform-origin: right;
	
	height: clamp(52rem,100%,90dvh);
	width: 25rem;
	/* backdrop-filter: blur(20px); */
	background-image: url("/assests/6d8e9a750b08665e11dc11e8e8bdec29.jpg");

}

/* //////////// sidebar ingridients list  */

.aside_1{
	position: relative;
	z-index: 0;
	
}

.aside_1 > ul{
	position: relative;
	display: flex;
	flex-direction: column;
	gap:1%;
	overflow-y: scroll;
	/* overflow-x: hidden; */
	height: 96%;
	scrollbar-width:none;
	-webkit-scrollbar-width: none;
	transition: .5s;

	&:hover{
		scrollbar-width:thin;
	}

	/* scroll-snap-type: mandatory; */
	/* background-color: #EDA48D; */
}

.aside_1 li{
	position: relative;
	padding-block: 8%;
	padding-inline: 3%;
	height: 220px;
	outline: solid;

	&:hover{
		transform: scale(1.1);
	}
}

.aside_1 img{
	/* display: none; */
	position: relative;
	
	/* filter: brightness(70%); */
	object-fit:fill;
	object-position: center;
	max-height: 100%;
	max-width: fit-content;
	aspect-ratio: 1/1;
	/* scale: 2; */
}

/* //////// css item select for aside 1  */
body:has(.aside_1 ul > li:nth-last-of-type(n)[data-value="0"]:is(:hover, :focus-within))  .mainGrid  label[data-value="0"]{
	position: relative;
	background-color: palegoldenrod;
	box-shadow: 1px 1px 77px 90px rgba(238, 232, 170, 0.511);
	animation: float 3s .5s;
} 
/* body:has(.aside_1 ul > li:nth-last-of-type(n)[data-value="1"]:hover)  .mainGrid  label[data-value="1"]{
	background-color: powderblue;
	box-shadow: 1px 1px 77px 90px rgba(176, 224, 230, 0.377);
	animation: float 3s .5s;
}  */
/* body:has(.aside_1 ul > li:nth-last-of-type(n)[data-value="2"]:hover)  .mainGrid  label[data-value="2"]{
	background-color: palevioletred;
	box-shadow: 1px 1px 77px 90px rgba(216, 112, 147, 0.534);
	animation: float 3s .5s;
}  */

.itemSelect{
	background-color: powderblue;
	box-shadow: 1px 1px 77px 90px rgba(176, 224, 230, 0.377);
	animation: float 1s .5s;
	transition: .5s;
}

/* //////////// sidebar potions list  */

.aside_2{
	position: relative;
	z-index: 0;
}

.aside_2::after{
	content: "";
	position: absolute;


}

.aside_2 > ul{
	position: relative;
	display: grid;
	grid-auto-flow: row;
	grid-auto-rows:32% ;
	overflow-y: scroll;
	overflow-x: hidden;
	height: 96%;
	scrollbar-width:none;
	-webkit-scrollbar-width: none;

}

.aside_2 li{
	position: relative;
	width: 100%;
	max-height: fit-content;
	object-position: center;
	object-fit: cover;
	container-name:list ;
	container-type:inline-size ;
	display: flex;
	flex-direction: column;
	align-items: center;
	border-top: .1px solid;
	padding-inline: 3%;

	:nth-child(n){
			/* outline: solid plum; */

	}
}

.aside_2 li h2{
	width: fit-content;
	margin-block: 1%;
}

.aside_2 li img{
	width: 43cqw;
	height: 50%;
 	/* transform:translateZ(300px)rotate3d(0,0,30deg) rotateX(50deg); */
	transform-origin: bottom;
	transition: .5s ease-out ;
	transition-property: transform,filter;
	z-index: 3;
	object-fit: cover;
	object-position: center;

}

/* item select for aside 2 */
body:has(.aside_2 ul > li:nth-of-type(1):is(:hover, :focus-within))  .mainGrid  label:is([data-value="19"],[data-value="11"]){
	position: relative;
	/* background-color: palegoldenrod; */
	box-shadow: 1px 1px 77px 90px rgba(238, 232, 170, 0.153);
	border-radius: 50%;		
	height: fit-content;
	animation: float-1 1s .5s;
} 
body:has(.aside_2 ul > li:nth-of-type(2):is(:hover, :focus-within))  .mainGrid  label:is([data-value="13"],[data-value="2"]){
	position: relative;
	/* background-color: palegoldenrod; */
	box-shadow: 1px 1px 77px 90px rgba(170, 238, 232, 0.153);
	border-radius: 50%;
	height: fit-content;

	animation: float-1 1s .5s;
} 
body:has(.aside_2 ul > li:nth-of-type(3):is(:hover, :focus-within))  .mainGrid  label:is([data-value="9"],[data-value="24"]){
	position: relative;
	/* background-color: palegoldenrod; */
	box-shadow: 1px 1px 77px 90px rgba(238, 170, 170, 0.153);
	border-radius: 50%;
	animation: float-1 1s .5s;
	height: fit-content;

} 

/* page logic */
.page{
	perspective: 1800px;

	&:has(.table:hover) .aside_1{
		transform: rotatey(-45deg);
		background-color: rgba(216, 112, 147, 0.312);
		opacity: .8;
		z-index: 0;
	}
	
	&:has(.mainGrid:is(:hover, :focus-within)) .aside_1{
		/* opacity: 0; */
		transform: rotatey(-180deg)  scale(.98);
		z-index: 0;
		background-color: palevioletred;
	

	}

	&:has(.mainGrid:hover) .menu{
		transform: rotateY(-30deg) rotateX(10deg) scale(.9);
		z-index: 0;

		/* .aside_1::after,.aside_2::after{
			content: "";
			background-color: #EDA48D;
			inset: 0;
			z-index: -1;
			filter: blur(.9px);
		} */

		.aside_2 img{
			transform: rotateY(-31deg) rotateX(-6deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
			filter: drop-shadow(5mm 4mm 2mm rgba(69, 66, 66, 0.419));
			z-index: 3;
			animation: float 6s ease-in-out 2s infinite ;

		}
	}
	
}

.page:has(.menu:is(:hover, :focus-within)) .table{
	z-index: 0;
	filter: blur(1px)
}

@keyframes float {
	0% {
		transform: translateY(0px) rotateY(-31deg) rotateX(-5deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
	  }
	  15%,60%,85%{
		transform: translateY(3px) rotateY(-33deg) rotateX(-6deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
	  }
	25%,75%{
		transform: translateY(-13px) rotateY(-35deg) rotateX(-7deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
	}

	  50% {
		transform: translateY(-10px) rotateY(-31deg) rotateX(-6deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
	  }
	  100% {
		transform: translateY(0px) rotateY(-31deg) rotateX(-5deg) rotateZ(22deg) scale(1.1) skew(24deg, -15deg);
	  }
}
